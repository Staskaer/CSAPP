#### 第18题的解答

首先，通过书中内容额可以得知，因为只有当前分配块需要向前合并时，此需要前一个分配块的大小。

因此书中提出的方法是将已分配的块的头部放在结尾，而空闲块需要同时保留头尾部。

由于存在内存对齐，Header的最低三位将是000，其中的最低位已经被用来判断这个块是否是空块，我们将倒数第二个位用来判断前一个块是否是空块，例如010代表这个空块的前一个块已经被占用了。

此处只利用了Header的倒数第二位，空闲块的边界信息没有发生改变。要注意的是，由于a已分配块不需要头标，所以最小的块是一个双字（一个Header和一个四字节的数据），最小的存储单位还是WORD。 

其中需要修改的部分主要为合并、释放、扩大堆的时候需要考虑脚标转换的问题，同时还有在分配的时候需要考虑由于脚标不对成引起的对齐问题。